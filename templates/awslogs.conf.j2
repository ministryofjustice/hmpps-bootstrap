[general]
state_file = /var/awslogs/state/agent-state

[/var/log/dmesg]
file = /var/log/dmesg
log_group_name = {{ cldwatch_log_group }}
log_stream_name = {{ hostname }}/dmesg
datetime_format = %b %d %H:%M:%S

[/var/log/messages]
file = /var/log/messages
log_group_name = {{ cldwatch_log_group }}
log_stream_name = {{ hostname }}/messages
datetime_format = %b %d %H:%M:%S

[/var/log/audit/audit.log]
file = /var/log/audit/audit.log
log_group_name = {{ cldwatch_log_group }}
log_stream_name = {{ hostname }}/audit
datetime_format = %b %d %H:%M:%S

[/var/log/secure]
file = /var/log/secure
log_group_name = {{ cldwatch_log_group }}
log_stream_name = {{ hostname }}/secure
datetime_format = %b %d %H:%M:%S

{% if ansible_env.HMPPS_ROLE is defined %}
{%   if ansible_env.HMPPS_ROLE == 'alfresco' -%}

[/usr/share/tomcat/logs/catalina.log]
file = /usr/share/tomcat/logs/catalina.*.log
log_group_name = {{ cldwatch_log_group }}
log_stream_name = {{ hostname }}/catalina_log
datetime_format = %b %d %H:%M:%S

[/usr/share/tomcat/logs/catalina.out]
file = /usr/share/tomcat/logs/catalina.out
log_group_name = {{ cldwatch_log_group }}
log_stream_name = {{ hostname }}/catalina_out
datetime_format = %b %d %H:%M:%S

[/usr/share/tomcat/logs/host-manager.log]
file = /usr/share/tomcat/logs/host-manager.*.log
log_group_name = {{ cldwatch_log_group }}
log_stream_name = {{ hostname }}/host-manager_log
datetime_format = %b %d %H:%M:%S

[/usr/share/tomcat/logs/localhost.log]
file = /usr/share/tomcat/logs/localhost.*.log
log_group_name = {{ cldwatch_log_group }}
log_stream_name = {{ hostname }}/localhost_log
datetime_format = %b %d %H:%M:%S

[/usr/share/tomcat/logs/localhost_access_log.txt]
file = /usr/share/tomcat/logs/localhost_access_log.*.txt
log_group_name = {{ cldwatch_log_group }}
log_stream_name = {{ hostname }}/localhost_access_log_txt
datetime_format = %b %d %H:%M:%S

[/usr/share/tomcat/logs/manager.log]
file = /usr/share/tomcat/logs/manager.*.log
log_group_name = {{ cldwatch_log_group }}
log_stream_name = {{ hostname }}/manager_log
datetime_format = %b %d %H:%M:%S

[/usr/share/tomcat/alfresco.log]
file = /usr/share/tomcat/alfresco.log
log_group_name = {{ cldwatch_log_group }}
log_stream_name = {{ hostname }}/alfresco_log
datetime_format = %b %d %H:%M:%S

{%   endif -%}
{%   if ansible_env.HMPPS_ROLE in ['ndelius', 'spg', 'interfaces'] -%}

[/u01/app/oracle/middleware/user_projects/domains/NDelius/NDeliusLog.log]
file = /u01/app/oracle/middleware/user_projects/domains/NDelius/NDeliusLog.log
log_group_name = {{ cldwatch_log_group }}
log_stream_name = {{ hostname }}/ndelius_log
datetime_format = %Y-%b-%d %H:%M:%S,%f

[/u01/app/oracle/middleware/user_projects/domains/NDelius/servers/AdminServer/logs/access.log]
file = /u01/app/oracle/middleware/user_projects/domains/NDelius/servers/AdminServer/logs/access.log
log_group_name = {{ cldwatch_log_group }}
log_stream_name = {{ hostname }}/access_log
datetime_format = %d/%b/%Y:%H:%M:%S %z

{%   endif -%}
{%   if ansible_env.HMPPS_ROLE == 'ldap' -%}

[/var/lib/apacheds-2.0.0.AM25/default/log/wrapper.log]
file = /var/lib/apacheds-2.0.0.AM25/default/log/wrapper.log
log_group_name = {{ cldwatch_log_group }}
log_stream_name = {{ hostname }}/wrapper_log
datetime_format = %Y/%m/%d %H:%M:%S

{%   endif -%}
{% endif %}